<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>사이트 관리자</title>

<!-- CSS 라이브러리 -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/static/css/index.css}">
</head>
<body>

	<!-- 헤더 섹션 -->
	<header>
		<div class="flex justify-between items-center px-6 py-4">

			<!--  햄버거 메뉴와 타이틀 -->
			<div class="flex items-center space-x-4">
				<button id="sidebarToggle"
					class="p-2 hover:bg-purple-50 rounded-lg transition-colors">
					<i class="fas fa-bars text-gray-600"></i>
				</button>
				<h2 class="text-xl font-semibold text-gray-800">사이트 관리자</h2>
			</div>
			<div class="flex items-center">
			<span class="mr-3 text-gray-600" th:text="${name} + ' 님'"></span> 
			<span class="mr-3 text-gray-600 cursor-pointer" onclick="location.href='/secure/admin/logout'">&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;로그아웃&nbsp;&nbsp;</span>
 			<img
					src="/static/images/default-profile.png" alt="Profile"
					class="w-10 h-10 rounded-full border-2 border-purple-100">
			
			</div>
		</div>
	</header>


	<!-- 메인 레이아웃 -->
	<div class="flex min-h-screen">
		<!-- 사이드바 -->
		<nav id="sidebar" class="nav-transition w-64">
			<div class="pt-4">
				<ul class="space-y-2">
					<!-- 네비게이션 아이템들 -->
					<span id="memberList" class="nav-item">
						<div class="nav-icon">
							<i class="fas fa-users"></i>
						</div> <span class="menu-text ml-3 font-medium">회원 관리</span>
					</span>
					</li>
					<li><span id="sellerList" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-users-cog"></i>
							</div> <span class="menu-text ml-3 font-medium">공연 관계자 관리</span>
					</span></li>
					<li><span id="noticeList" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-clipboard-list"></i>
							</div> <span class="menu-text ml-3 font-medium">공지사항 목록</span>
					</span></li>
					<li><span id="reviewBeforeList" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-list-alt"></i>
							</div> <span class="menu-text ml-3 font-medium">기대평 관리</span>
					</span></li>
					<li><span id="reviewAfterList" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-list-alt"></i>
							</div> <span class="menu-text ml-3 font-medium">관람평 관리</span>
					</span></li>
					<li><span id="chatting" class="nav-item">
							<div class="nav-icon">
								<i class="fab fa-rocketchat"></i>
							</div> <span class="menu-text ml-3 font-medium">문의 채팅 목록</span>
					</span></li>
					<li><span id="analysis" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-chart-line"></i>
							</div> <span class="menu-text ml-3 font-medium">이용자 분석</span>
					</span></li>
					<li><span id="noticeUpdateForm" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-chart-line"></i>
							</div> <span class="menu-text ml-3 font-medium">테스트</span>
					</span></li>
				</ul>
			</div>
		</nav>

		<!-- 메인 컨텐츠 : 추후 변경 -->
		<main class="flex-1 p-6 bg-purple-50">
			<div id="mainContent" class="main-content"></div>
		</main>
		
		
	</div>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script th:src="@{/static/js/admin_index.js}"></script>
	<script>
document.addEventListener('DOMContentLoaded', function(){
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebarToggle');
    let isMenuHidden = false;
    
    // 사이드바 토글 기능(플래그로 상태변경)
    sidebarToggle.addEventListener('click', function(){
        isMenuHidden = !isMenuHidden;
        sidebar.classList.toggle('nav-hidden');
    });
    
	 
     // 첫 화면 보여줄 내용
     loadBodyForm('memberList?page=0');

	 //클릭 이벤트 설정
	 loadClickEvent('memberList', 'memberList');
     loadClickEvent('sellerList', 'sellerList');
	 loadClickEvent('noticeList', 'noticeList');
	 loadClickEvent('reviewBeforeList', 'reviewBeforeList');
	 loadClickEvent('reviewAfterList', 'reviewAfterList');
	 loadClickEvent('chatting', 'chatting');
	 loadClickEvent('analysis', 'analysis');
});

</script>

</body>
</html>
