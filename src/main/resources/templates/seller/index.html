<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>공연 관계자</title>

<!-- CSS 라이브러리 -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/static/css/index.css}">

</head>
<body>

	<!-- 헤더 섹션 -->
	<header>
		<div class="flex justify-between items-center px-6 py-4">

			<!--  햄버거 메뉴와 타이틀 -->
			<div class="flex items-center space-x-4">
				<button id="sidebarToggle"
					class="p-2 hover:bg-purple-50 rounded-lg transition-colors">
					<i class="fas fa-bars text-gray-600"></i>
				</button>
				<h2 class="text-xl font-semibold text-gray-800">공연 관계자</h2>
			</div>
			<div class="flex items-center">
			<span class="mr-3 text-gray-600" th:text="${name} + ' 님'"></span> 
			<span class="mr-3 text-gray-600 cursor-pointer" onclick="location.href='/secure/admin/logout'">&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;로그아웃&nbsp;&nbsp;</span>
			<img
					src="/static/images/default-profile.png" alt="Profile"
					class="w-10 h-10 rounded-full border-2 border-purple-100">
			</div>
		</div>
	</header>


	<!-- 메인 레이아웃 -->
	<div class="flex min-h-screen">
		<!-- 사이드바 -->
		<nav id="sidebar" class="nav-transition w-64">
			<div class="pt-4">
				<ul class="space-y-2">
					<!-- 네비게이션 아이템들 -->
					<li><span id="playList" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-list-alt"></i>
							</div> <span class="menu-text ml-3 font-medium">공연 정보 관리</span>
					</span></li>
					<li><span id="timeList" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-list-alt"></i>
							</div> <span class="menu-text ml-3 font-medium">공연 시간표 관리</span>
					</span></li>
					<li><span id="bookList" class="nav-item">
							<div class="nav-icon">
								<i class="fab fa-rocketchat"></i>
							</div> <span class="menu-text ml-3 font-medium">예매 관리</span>
					</span></li>
					<li><span id="qnaList" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-chart-line"></i>
							</div> <span class="menu-text ml-3 font-medium">QnA 관리</span>
					</span></li>
					<li><span id="timeUpdateForm" class="nav-item">
							<div class="nav-icon">
								<i class="fas fa-chart-line"></i>
							</div> <span class="menu-text ml-3 font-medium">테스트</span>
					</span></li>
				</ul>
			</div>
		</nav>

		<!-- 메인 컨텐츠 : 추후 변경 -->
		<main class="flex-1 p-6 bg-purple-50">
			<div id="mainContent" class="main-content"></div>
		</main>
		<!-- Modal -->
		<div class="modal fade" id="Modal" tabindex="-1" aria-labelledby="deleteSuccessLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="deleteSuccessLabel">알림</h5>
		        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		      </div>
		      <div class="modal-body" id="modalMessage">
		        <!-- 메시지가 동적으로 들어갑니다 -->
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="custom-btn" data-bs-dismiss="modal">확인</button>
		      </div>
		    </div>
		  </div>
		</div>
	</div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{/static/js/common_bootstrap.js}"></script>
	<script th:src="@{/static/js/seller_index.js}"></script>
	<script>
document.addEventListener('DOMContentLoaded', function(){
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebarToggle');
    let isMenuHidden = false;
    
    // 사이드바 토글 기능(플래그로 상태변경)
    sidebarToggle.addEventListener('click', function(){
        isMenuHidden = !isMenuHidden;
        sidebar.classList.toggle('nav-hidden');
    });
    
     loadBodyForm('playList');
	 
	 //클릭 이벤트 설정
	 loadClickEvent('playList');
	 loadClickEvent('bookList');
	 loadClickEvent('timeList');
	 loadClickEvent('qnaList');
	 loadClickEvent('timeUpdateForm');
});

function showModal(message) {
    // 메시지를 동적으로 설정
    document.getElementById('modalMessage').textContent = message;

    // 부트스트랩 모달 띄우기
    const Modal = new bootstrap.Modal(document.getElementById('Modal'));
    Modal.show();
}
</script>

<script type="text/javascript" th:src="@{/static/smarteditor/js/HuskyEZCreator.js}" charset="UTF-8"></script>
</body>
</html>
